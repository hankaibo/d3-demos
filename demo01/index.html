<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>demo01</title>
  <script src="../build/d3.js"></script>
</head>

<body>
  <script>
    function SimpleWidget(spec) {
      // 定义私有变量
      var instance = {};
      var headline;
      var description;
      instance.render = function () {
        var div = d3.select('body').append('div');
        div.append('h3').text(headline);
        div.attr('class', 'box')
          .attr('style', 'color:' + spec.color)
          .append('p')
          .text(description);
        return instance;
      }
      instance.headline = function (h) {
        if (!arguments.length) {
          return headline;
        }
        headline = h;
        return instance;
      }
      instance.description = function (d) {
        if (!arguments.length) {
          return description;
        }
        description = d;
        return instance;
      }
      return instance;
    }
    var widget = SimpleWidget({
        color: '#6495ed'
      })
      .headline('hello world') // setter
      .description('This is helloworld.');
    console.log(widget.headline()); //getter
    widget.render();
  </script>
</body>

</html>