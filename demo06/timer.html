<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>timer</title>
  <link rel="stylesheet" href="../css/style.css">
  <script src="../build/d3.js"></script>
</head>
<body>
<div class="control-group">
  <button onclick="countup(100)">Start</button>
  <button onclick="reset()">Clear</button>
</div>
<script>
let body = d3.select('body');
let countdown = body.append('div').append('input');

countdown.attr('type', 'button')
  .attr('class', 'countdown')
  .attr('value', '0');

function countup(target) {
  d3.timer(function () {
    let value = countdown.attr('value');
    if (parseInt(value) === target) {
      return true;
    }
    countdown.attr('value', ++value);
  });
}

function reset() {
  countdown.attr('value', '0');
}
</script>
</body>
</html>
